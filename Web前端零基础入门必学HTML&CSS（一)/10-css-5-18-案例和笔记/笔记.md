# CSS 第六天

## 一、列表布局

​	容器宽度： w

​	成员宽度： w

​	成员个数： n

​	成员间距： m

​	公式： 容器宽度 = 成员宽度 * 成员个数 + 成员间距 * （成员个数 - 1） 

​				w = iw * n + m * (n - 1)

​	以上四个变量已知其三，可求另一个

​				iw = (w - m * (n - 1)) / n = (1190 - 36 * 3) /  4

## 二、背景

### 2.1 背景属性

background-color	背景色，属性值表示颜色，16进制的，特殊名称，rgb模式等等

​	在标准盒模型中，背景色会应用给整个内容区域（会应用到边框上）：```width + padding * 2 + border * 2```

background-image	背景图片，属性值 url(地址)，可以是绝对地址，也可以是相对地址

​	设置的图片是从padding（包含）开始渲染的，并且从border开始平铺渲染

​	对于一个盒子设置背景色和背景图片

​		背景色从border开始渲染

​		背景图片从padding开始渲染

background-repeat	设置背景平铺，注意：X 特指水平方向，Y 特指垂直方向

​	no-repeat 不重复平铺，repeat 重复平铺（默认值），repeat-x 水平方向平铺，repeat-y 垂直方向

平铺

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .demo {
            width: 100px;
            height: 100px;
            padding: 100px;
            border: 50px dotted orange;
            margin: 100px;
            /* 背景色 */
            background-color: green;
            /* 背景图片 */
            background-image: url("./images/meng.jpg");
            /* 平铺 */
            /* background-repeat: no-repeat; */
            /* 水平方向 */
            /* background-repeat: repeat-x; */
            /* 垂直方向 */
            background-repeat: repeat-y;
        }
    </style>
</head>
<body>
    <div class="demo">123123123</div>
</body>
</html>
```



### 2.2 背景定位

background-position	用于背景定位，属性值分别表示：x方向坐标  y方向坐标

​	是从padding开始（border以内）进行定位的（注：css中坐标轴是倒置的坐标轴），有三种使用

方式

​	**数值法**：如：向右平移100像素，向下平移100像素

​	**特殊变量**：

​		水平方向 left right center，

​		垂直方向 top bottom center，

​		工作中，常用的是：center top

​	**百分比数值**：(盒子宽度|盒子高度 + 盒子padding * 2 - 背景图片的宽度|背景图片的高度) * 百分比

单独设置：background-position也是复合属性，因此水平方向，和垂直方向可以单独设置

​	background-position-x 	设置水平方向

​	background-position-y 	设置垂直方法

background-attachment		用来固定背景，

​	scroll 滚动页面，位置不变，相对窗口位置变化（默认值）

​	Fixed 滚动页面，位置变化，相对于窗口位置不变

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .demo {
            width: 400px;
            height: 400px;
            padding: 100px;
            border: 50px dotted orange;
            margin: 100px;
            /* 背景色 */
            background-color: green;
            /* 背景图片 */
            background-image: url("./images/meng.jpg");
            /* 平铺 */
            background-repeat: no-repeat;
            /* 定位 */
            /* background-position: 100px 100px; */
            /* 特殊变量 */
            /* background-position: center center; */
            /* background-position: center top; */
            /* 百分比 */
            /* background-position: 100% 100%; */
            /* background-position: 50% 50%; */
            /* 等价写法 */
            /* background-position-x: 50%; */
            /* background-position-y: 50%; */
            /* background-position-y: 0; */
            /* background-position: 0 0; */
            /* 跟随滚动条滚动 */
            background-attachment: fixed;
        }
    </style>
</head>
<body>
    <div class="demo"></div>
</body>
</html>
```



### 2.3 复合属性

background 	是一个复合属性，

​	可以设置背景色，背景图片，背景图片位置，背景图片平铺，

​	在 css3 中还可以设置背景图片尺寸，背景图片起始位置，背景图片的截取，背景图片的定位等等

​	设置顺序： background 背景色，背景图片，背景平铺，背景定位，背景固定

**应用**：

​	制作渐变背景：设置一个渐变单元，然后水平平铺设置渐变背景

​		注意：linear-gradient属性可以设置渐变，但这是css3属性，低版本浏览器不支持，我们可以使

用背景平铺来解决

​	背景居中，设置banner图片

​	伪元素设置背景：使用行内元素设置背景，改变了原有的dom结构，因为我们新增了行内元素

span

​		为了避免插入新元素，我们可以使用伪元素，步骤：1 设置伪元素，2 设置content属性，让伪元

素显示，3 设置padding撑起宽高，4 修改字号，5 居中对齐 设置vertical-aline: middle；6 调整外边

距

### 2.4 SEO

​	搜索引擎认识语义化标签，所以为了提高网站权重，我们通常将重要的信息写在h1中，有时候这些

重要的信息是一些图片。

那么我们将图片写在h1中搜索引擎不认识，将图片直接写在h1中，是一种错误的方式，因为搜索引擎

不会解析图片中的文字，只会识别h1标签内的文字

通常我们在h1中书写文字，然后用背景来显示这张图片，但是里面还有文字怎么办？

​	只需要让文字溢出容器即可，下面给出了两种常用的方式

​		第一种是通过text-indent让文字溢出

​		第二种是通过line-height让文字从盒子中出去，通过overflow：hidden溢出隐藏

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .demo {
            width: 400px;
            height: 1000px;
            padding: 100px;
            border: 50px dotted orange;
            /* 通过一个属性，实现效果 */
            background: green url("./images/meng.jpg") no-repeat left top fixed;
        }
        /* 渐变背景 */
        .nav {
            width: 150px;
            height: 60px;
            line-height: 60px;
            font-size: 20px;
            background: url(./images/nav_bg.png) repeat-x;
        }
        /* 设置banner */
        .banner {
            height: 400px;
            width: 1200px;
            margin: 0 auto;
            background: url(./images/banner.png) center;
        }
        li {
            line-height: 36px;
        }
        /* 插入图标 */
        li span {
            padding: 13px;
            /* background-color: green; */
            background-repeat: no-repeat;
            /* margin-top: 10px; */
            display: inline-block;
            vertical-align: middle;
        }
        .item1 span {
            background-image: url(./images/jd_01.png);
        }
        .item2 span {
            background-image: url(./images/jd_02.png);
        }
        .item3 span {
            background-image: url(./images/jd_03.png);
        }
        /* 通过伪元素设置 */
        li:before {
            content: "";
            padding: 13px;
            /* background-color: gold; */
            font-size: 0;
            vertical-align: middle;
        }
        .item1:before {
            background-image: url(./images/jd_01.png);
        }
        .item2:before {
            background-image: url(./images/jd_02.png);
        }
        .item3:before {
            background-image: url(./images/jd_03.png);
        }
        /* SEO */
        h1 {
            background-image: url(./images/taobao.png);
            background-repeat: no-repeat;
            width: 143px;
            height: 59px;
            /* 第一种 */
            /* text-indent: -1000em; */
            /* 第二种 */
            /* line-height: 1000px;
            overflow: hidden; */
            /* 第三种 */
            /* font-size: 0; */
            overflow: hidden;
            padding-top: 59px;
            height: 0;
        }
    </style>
</head>
<body>
    <!-- <div class="demo"></div> -->
    <!-- 渐变背景 -->
    <!-- <div class="nav">主页</div> -->
    <!-- 设置banner -->
    <!-- <div class="banner"></div> -->
    <!-- 列表图标 -->
    <!-- <ul>
        <li class="item1"><span></span>衣服</li>
        <li class="item2"><span></span>裤子</li>
        <li class="item3"><span></span>鞋</li>
    </ul> -->
    <!-- <ul>
        <li class="item1">衣服</li>
        <li class="item2">裤子</li>
        <li class="item3">鞋</li>
    </ul> -->
    <!-- SEO -->
    <h1>淘宝网</h1>

</body>
</html>
```



### 2.5 精灵图

css sprites：网页上有很多小的碎图片，不管图片大小，一个图片就会发起一次http请求。很多碎图

片就会发起很多http请求。降低网页的加载速度。我们将这些碎图片整合在一张图片上，只会发起一

次http请求。提高网页的加载速度。这就是精灵图技术。

**应用**：

1. 通过盒子的宽高限制精灵图
2. 通过background-position得到具体的精灵图小图片。

**精灵图的制作**：

1. 所有的小碎图片必须是png。
2. 精灵图大小不要太大，能保证所有的小碎图可以盛放。
3. 小精灵图摆放：从上到下摆放（最好颜色相近的放在一起）。

### 2.6 精灵图分类

**水平精灵图**

​	我们可以将所有的图片打包在一行

​	特点

​	1 容器宽度是受约束的，宽度不能超过：后一张图片起始位置 - 前一张图片的终止位置

​	2 容器高度是自由的，高度任意，因为后面没有其他图片了，图片可以在垂直方向平铺，实现渐变

效果

​	3 调整精灵图的位置，就是调整背景图片的横坐标位置

**垂直精灵图**

​	我们将图片，在垂直方向合并

​	特点

​	1 容器的高度受限制：后一张图片的起始位置 - 前一张图片的结束位置

​	2 修改图片位置，就是修改垂直方向的位置

​	3 可以在水平方向上进行平铺。

**定点精灵图**

​	是工作中最常用的一种精灵图，特点就是在一个图片中，随意放置图片，使用的时要找准位置

​	特点

​	1 宽度和高度都是受限制的，受到周围图片的限制，常将容器的宽高设置成icon图片的宽高

​	2 不论是水平方向还是垂直方向，通常是不能平铺的

### 2.7 精灵图优化

工作中有三类精灵图，如何区分制作哪种精灵图？我们要看具体需求

​	宽度固定，高度不固定 	=> 制作水平精灵图

​	高度固定，宽度不固定 	=> 制作垂直精灵图

​	宽度固定，高度固定 	=> 制作定点精灵图

​		水平精灵图的优势，是不用考虑纵坐标，通常始终是0

​		垂直精灵图的优势，是不用考虑横坐标，通常始终是0

使用的时候，一定要注意，图片的起始位置，以及图片的终止位置，来确定容器的宽高，否则会溢出

制作的时候，通常相同颜色的图片放在一起，颜色不同的划分区域，这样来优化图片的大小

绘制的时候，在photoshop上看到的像素值，在写css的时候，对应负值

​	如果图片向右平移，横坐标加上偏移量，如果图片向左平移，横坐标减去偏移量

​	如果图片向上平移，纵坐标减去偏移量，如果图片向下平移，纵坐标加上偏移量

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        ul {
            margin: 50px auto;
            width: 500px;
        }
        ul li {
            float: left;
            width: 70px;
            height: 75px;
            border: 1px solid #ccc;
            text-align: center;
        }
        span {
            padding: 12px;
            display: inline-block;
            margin-top: 10px;
            background-repeat: no-repeat;
            /* background-image: url(./images/shuiping.png); */
            /* background-image: url(./images/chuizhi.png); */
            background-image: url(./images/dingdian.png);
        }
        p {
            font-size: 14px;
            padding-top: 4px;
        }
        .item-1 span {
            /* background-image: url(./images/1.png); */
            background-position: -30px -30px;
        }
        .item-2 span {
            /* background-image: url(./images/2.png); */
            /* background-position-x: -30px; */
            /* background-position-y: -30px; */
            background-position: -90px 0;
        }
        .item-3 span {
            /* background-image: url(./images/3.png); */
            /* background-position-x: -60px; */
            /* background-position-y: -60px; */
            background-position: -60px -60px;
        }
        .item-4 span {
            /* background-image: url(./images/4.png); */
            /* background-position-x: -90px; */
            /* background-position-y: -90px; */
            background-position: -30px -90px;
        }
    </style>
</head>
<body>
    <ul>
        <li class="item-1">
            <span></span>
            <p>充话费</p>
        </li>
        <li class="item-2">
            <span></span>
            <p>旅行</p>
        </li>
        <li class="item-3">
            <span></span>
            <p>车险</p>
        </li>
        <li class="item-4">
            <span></span>
            <p>游戏</p>
        </li>
    </ul>
</body>
</html>
```

