# JavaScript 第四天

## 一、循环

### 1.1 穷举思想

概念：我们经常想得到一组数据，有一些特定的要求，计算机没法自己帮我们输出这些数据。我们需要人为的需要编写一段程序，让计算机运行

程序来解决问题。

​	将所有的可能情况，一一的列举出来，然后我们人为限定判断条件，把符合条件的数据就给它输出，不满足的就跳过，继续验证下一个数据是

否满足条件，直到把所有可能情况都验证一个遍。这个方法就叫做全举法，也叫穷举法。

​	外层：一一列举，for循环。

​	内层：进行判断，if语句。

案例1：在控制台输出一个数的所有约数。

​	约数概念：a %b ==0，那么a叫做b的倍数，b叫做a的约数或者因数。

​	一个数的约数，最小是1，最大是它本身。

​	比如找出6的所有约数。

 		6%1 == 0 			=> 1, 2, 3, 6

```js
// 穷举思想
var num = prompt('输入一个整数');
// 打印该整数的所有约数
// 遍历所有情况
for (var i = 1; i <= num; i++) {
    // num是倍数，i是约数
    // 内部设置条件
    // 穷举法：将所有清空一一列举出来，然后找出符合条件的。
    if (num % i === 0) {
        console.log(i)
    }
}
```



### 1.2 水仙花数

找三位数里的“水仙花数”，在控制台输出。

​	条件1：三位数，得全部列举出来100,~999

​	条件2：水仙花数，每一个位数的三次方，它们的和，还等于原来的三位数，通过判断找到符合条件的水仙花数

```js
// 遍历所有情况
for (var i = 100; i <= 999; i++) {
    // 获取个位，十位，百位
    var a = i % 10;
    // 123 % 100    => 23 / 2.3 =>  +2.2    => 2
    var b = parseInt(i % 100 / 10);
    var c = parseInt(i / 100)
    // 条件: 水仙花数，每一个位数的三次方，它们的和，还等于原来的三位数
    if (Math.pow(a, 3) + Math.pow(b, 3) + Math.pow(c, 3) === i) {
        // 输出满足条件的结果
        console.log(i)
    }
}
```



### 1.3 累加器与累乘器

**累加器**：保存满足条件的循环个数。累加器需要变量，当满足条件时就自加1，最后在for循环外输出最终结果

注意：

1. 累加器的变量sum，必须放在for循环外（以防每次重置为0），sum初始值必须是0
2. 当满足条件时sum自加1.
3. sum的输出必须在for循环外。得到的是总个数。

​	案例：找出任意一个正整数的约数总个数。

**累乘器**：保存我们前面乘数的积。如，阶乘：8！= 8 * 7 * 6 * 5 * 4 * 3 *2 *1

注意：

1. 累乘器的变量必须写在循环外面。
2. 初始值必须是1.
3. 输出也必须是在for循环完毕之后再输出。

​	案例：输出一个正整数的阶乘。

```js
// 获取一个整数的约束个数
var num = prompt('请输入一个正整数');
// 累加器
var sum = 0;
// 遍历
for (var i = 1; i <= num; i++) {
    // 1 累加器绝对不能定义在循环体中
    // var sum = 0;
    // 条件
    if (num % i === 0) {
        // 满足条件的
        sum++;
    }
    // 2 不能在循环体中打印sum
    // console.log(sum);
}
// 打印结果
console.log(sum);


// 累乘器
var num = prompt('请输入一个正整数');
// 累乘器
var result = 1;
// 遍历
for (var i = num; i >= 1; i--) {
    // 求累乘结果
    result *= i;
}
console.log(result);
```



### 1.4 判断质数

练习：判断一个数是不是质数。

​	条件：

​		除 1 和它本身外，没有其它的约数的数叫做质数。

​	比如：

​		2是质数（只有1和2这个两个约数）

​    	13也是质数（1和13约数）

```js
// 输入一个数，判断是否为质数
var num = prompt('请输入一个正整数');
// 累加器
var sum = 0;
// 遍历
for (var i = 1; i <= num; i++) {
    // 判断i是否是i的约数
    if (num % i === 0) {
        // 更新累加器
        sum++;
    }
}
// 判断质数
if (sum === 2) {
    console.log(num + '是一个质数');
} else {
    console.log(num + '不是一个质数')
}

```



### 1.5 do while 循环

反复执行直到遇到一个为假的特定条件。也叫后测试循环语句。先执行循环语句，然后执行出口判断，

​	当条件为真时，继续执行循环语句。

​	如果条件为假，结束循环。

​	语法：	

> ​		do {
>
> ​				循环语句;
>
> ​		} while (表达式);

​	do while 至少会执行一次循环语句。

​	do while 语句和 for 语句不同之处。do while 循环变量必须书写在循环语句的外面。防止被重置或者清空。

​	do while至少会执行一次循环语句。

```js
// 打印1到5；
// 定义循环变量
var i = 1;
// 不满足循环条件，但是循环体仍然会执行一次。
// var i = 10;
// 循环体
do {
    // 绝对不能在循环体中初始化循环变量
    // var i = 1;
    console.log(i);
    // 在循环体中，更改循环变量
    i++;
// 设置循环条件
} while (i <= 5);

// for循环先判断再去做
// while循环先做再判断
```



### 1.6 while 循环

重复执行一段代码，直到判断条件为假时，跳出循环，也是前测试循环语句。先判断条件，

​	当条件为真，进行循环语句。

​	如果条件为假，结束循环。

​	语法：	

> ​		while (表达式) {
>
> ​				循环语句;
>
> ​		}

​	while 语句，循环变量必须书写在语句外面。

​	while 语句都可以快速的改成for循环。

​	while 语句中，更改循环变量语句的顺序，会影响输出结果。

```js
// while循环
// 循环变量
var i = 1;
// 循环
while (i <= 5) {
    // 修改循环变量的语句位置将影响输出结果
    // i++;
    // 不能在循环内部初始化循环变量
    // var i = 1;
    console.log(i);

    // 必须在循环内部修改循环变量
    // 工作中，常常将修改循环变量语句的位置，写在循环的最后面。
    i++;
}

// 通过for循环来改写
// for (var i = 1; i <= 5; i++) {
//     console.log(i)
// }
```



### 1.7 break

break：我已经找到满足的条件，循环不需要再往下继续执行。

​	break作用：遇到break，会强制停止我们当前的循环。

​	它会立即终止当前所在的 while，do-while，for，或者 switch语句， 并把程序执行权交回这些结构后面的语句。不会帮我们终止外层循环。

break也可以控制外层循环，需要给外层添加一个游标（标签），然后绑定给 break 关键字。

```js
// 输入一个正整数，找到比该数字大，离它最近的质数  50 => 53
var num = prompt('请输入一个正整数');
// 判断非质数：
for (var i = 2; i < num - 1; i++) {
    console.log('before', i)
    // 判断约数
    if (num % i === 0) {
        // 就不是质素
        console.log(num + '不是一个质数')
        // 会在该位置中断循环语句
        break;
    }
    console.log('after', i)
}

// 找到离它最近的质数 
for (; true; num++) {
    // 定义累加器
    var sum = 0;
    // 找到了质数就停止
    for (var i = 2; i <= num -1; i++) {
        // 判断是否有约数
        if (num % i === 0) {
            // 该数字不是质数
            sum++;
        }
    }
    // 如果sum大于0，就不是质数了
    if (sum > 0) {
        console.log(num + '不是一个质数')
    } else {
        console.log('找到了这个质数，就是' + num)
        break;
    }
}
for (; true; num--) {
    // 定义累加器
    var sum = 0;
    // 找到了质数就停止
    for (var i = 2; i <= num -1; i++) {
        // 判断是否有约数
        if (num % i === 0) {
            // 该数字不是质数
            sum++;
        }
    }
    // 如果sum大于0，就不是质数了
    if (sum > 0) {
        console.log(num + '不是一个质数')
    } else {
        console.log('找到了这个质数，就是' + num)
        break;
    }
}
如果条件始终为真，工作中，常常用while代替for
while (true) {
    // 定义累加器
    var sum = 0;
    // 找到了质数就停止
    for (var i = 2; i <= num -1; i++) {
        // 判断是否有约数
        if (num % i === 0) {
            // 该数字不是质数
            sum++;
        }
    }
    // 如果sum大于0，就不是质数了
    if (sum > 0) {
        console.log(num + '不是一个质数')
    } else {
        console.log('找到了这个质数，就是' + num)
        break;
    }
    // 更改num
    num--;
}



// 苹果5元一个，鸭梨4元一个，桃子1元一个。现在想用200元买100个水果，在控制台中列出所有可能性。
// i 苹果， j 鸭梨， k 桃子
// 遍历苹果
ickt: for (var i = 0; i <= 100; i++) {
    // 遍历鸭梨
    for (var j = 0; j <= 100; j++) {
        // 遍历桃子
        for (var k = 0; k <= 100; k++) {
            // 条件
            if (i + j + k === 100 && i * 5 + 4 * j + 1 * k === 200) {
                console.log(i, j, k)
                // 终止最外层循环
                break ickt;
                // console.log(i, j, k)
            }
        }
    }
}
```



### 1.8 continue

continue：表示继续

​	解释：这个答案不是我想要的，赶快进入下一次循环。（只会结束一次循环）

​	遇见 continue，结束该次循环，立即执行下一次循环。也是只能控制本层的循环不能控制外层循环。

如果想控制外层循环需要使用游标（标签）。

​	break 和 continue可以简化我们的计算过程（指的是计算机的计算过程）

- break	优化本次循环后面的逻辑，以及后面循环的逻辑
- continue	优化本次循环后面的逻辑，不会优化后面的循环

​	案例：

​		（1）判断整数 n 的平方根之前除了1之外，还有没有其它的约数（1-Math.sqrt(n)）。

​		（2）输出1000以内所有质数。

```js
// 遍历1到10，打印偶数
for (var i = 10; i > 0; i--) {
    // 如果是奇数，进行下一次遍历
    // if (i % 2 === 1) {}
    // 如果i是奇数，结果就是1，1转成布尔值就是true
    if (i % 2) {
        // 进行下一次循环
        continue;
    }
    console.log(i)
}

// 99 乘法表
ickt: for (var i = 1; i <= 9; i++) {
    // 内部循环
    for (var j = 1; j <= i; j++) {
        // 如果j等于2，不要打印
        // if (j === 2) {
        //     // 继续下一次循环
        //     continue;
        // }
        // 如果j等于3，进行外层循环的下一项
        if (j === 3) {
            // 进入指定名字循环的下一
            continue ickt;
        }
        // 输出结果    3 * 5 = 15
        console.log(j + '*' + i + '=' + i * j)
    }
    console.log('------------------------')
}
```

